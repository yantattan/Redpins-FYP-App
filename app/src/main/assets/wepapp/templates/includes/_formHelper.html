{% macro render_field(field) %}
  {{ field(**kwargs)|safe }}
  {% if field.errors %}
    <span class="fielderror"><span>
      {% for i in range(field.errors |length) %}
        {% if i == 0 %}
          {{ field.errors[i] }}
        {% else %}
          , {{ field.errors[i] }}
        {% endif %}
      {% endfor %}
    </span></span>
  {% endif %}
{% endmacro %}